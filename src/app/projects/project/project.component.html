<div class="container project_block_main">

    <div class="modal response_message" [ngClass]="{'show' : commentsResponse !== '' }" 
    *ngIf="commentsResponse !== ''" (click)="commentsResponse=''">
          
      <div class="modal-dialog alert">
                    <div class="modal-header alert alert-success">
                        <button type="button" class="close" data-dismiss="modal" 
                        aria-hidden="true" (click)="commentsResponse=''">&times;</button>
                        <h4 class="modal-title">{{ commentsResponse }}</h4>
                    </div>
            </div>
    </div>

    <div class="modal response_message" [ngClass]="{'show' : ratingResponse !== '' }" 
    *ngIf="ratingResponse !== ''" (click)="ratingResponse=''">
          
      <div class="modal-dialog alert">
                    <div class="modal-header alert alert-danger">
                        <button type="button" class="close" data-dismiss="modal" 
                        aria-hidden="true" (click)="ratingResponse=''">&times;</button>
                        <h4 class="modal-title">{{ ratingResponse }}</h4>
                    </div>
            </div>
    </div>

  <div class="row">
    <div class="nav_block">
      <button type="submit" class="btn btn-default" routerLink="/projects">Back to projects</button>
      <button type="submit" class="btn btn-default" routerLink="edit" *ngIf="authService.getEmail() === project?.authorEmail">Edit Project</button>
      <button type="submit" class="btn btn-default" routerLink="edit">Dev Edit Project</button>
      <button type="submit" class="btn btn-default" routerLink="/projects/new" *ngIf="authService.getRole() !== ''">Add Project</button>
    </div>
  </div>
    <div class="project_block">
      <div class="img_block">
        <img [src]="_placeholderBase64" alt="">
       <div class="project_name">
          {{ (project)?.projectName | uppercase }}
        </div>
      </div>
      <section class="project_info">
        <article class="article_header">
          <span class="glyphicon glyphicon-minus"></span>
          <span>Project description</span>
        </article>
        <article class="project_desc">
          {{ (project)?.desc }}
        </article>
      </section>
      <section class="project_info" *ngIf="(project)?.goals">
        <article class="article_header">
          <span class="glyphicon glyphicon-minus"></span>
          <span>What is the goal of the project?</span>
        </article>
        <article class="project_desc">
          {{ (project)?.goals }}
        </article>
      </section>
      <section class="project_info" *ngIf="(project)?.result">
        <article class="article_header">
          <span class="glyphicon glyphicon-minus"></span>
          <span>What is the result of the project? </span>

        </article>
        <article class="project_desc">
          {{ (project)?.result }}
        </article>
      </section>
      <section class="project_info" *ngIf="(project)?.budget">
        <article class="article_header">
          <span class="glyphicon glyphicon-minus"></span>
          <span>Finance information</span>
        </article>
        <article class="project_desc">
          <span>Project budget: {{ (project)?.budget }}$</span>
        </article>
      </section>
      <div class="project_footer">
        <div class="row">
          <div class="col-md-4 col-sm-4">
            <div class="likes_block">
              <rating [ratingObj]="(project)" (outputRating)="getRatingInfo($event)"></rating>
            </div>
          </div>
          <div class="col-md-6 col-sm-5">
            <div class="date_block">
              Date: {{ (project)?.date | date:'short' }}
            </div>
          </div>
          <div class="col-md-2 col-sm-3">
            <div class="author_block">
              Author: {{ (project)?.author }}
            </div>
          </div>
        </div>
      </div>
    </div>
  <comments [commentsObj]="(project)" (output)="getInfo($event)">Comments loading...</comments>
</div>
