<div class="container">
  <div class="row">
    <div class="col-md-12 news-attribute">
      <div class="col-md-3 pull-left " >
        <div class="input-group ">
          <input type="text" [(ngModel)]="queryString" 
            class="form-control" placeholder="Search news"/>
            <span class="input-group-addon">
              <span class="glyphicon glyphicon-search"></span>
            </span>
        </div>
      </div>
      <button class="btn add-btn pull-right" *ngIf="getUserRole !== ''" [routerLink]="['add']">Add news</button>
      <div class="dropdown">
        <button  class="dropbtn">Sort by <span class="caret"></span></button>
          <div id="myDropdown" class="dropdown-content">
            <li (click)="sortByLatestDate()">Sort by latest</li>
            <li (click)="sortByOldestDate()">Sort by oldest</li>
            <li (click)="sortByAuthor()">Sort by author</li>
          </div>
      </div>
    </div>  

    <ng-container  *ngFor="let key of (news | async) | searchNews: queryString:'title' | sortBy:sort:sortKey | paginate: { itemsPerPage: 10, currentPage: p }">
      <div class="col-md-4 col-sm-6 service-block">
        <div class="news_block">
          <div class="news-img">
          <img *ngIf="key.image ===''" class="img img-responsive" src="http://lorempixel.com/400/200/city/" alt="{{key.title }}">
          <img *ngIf="key.image !==''" class="img img-responsive" src="{{key.image}}" alt="{{key.title }}">
        </div>
          <p class="news_date ">{{key.date | date:'dd MMMM y'}} </p>
          <p class="author"> Written by: {{key.author}}</p>
          <h3 class="news_title">{{key.title | shorten:28 }} </h3>
          <p class="news_desc">{{ key.desc | shorten:130 }}</p>
          <a class="read" [routerLink]="['/news', key._id]">Read more 
            <span class="glyphicon glyphicon-menu-right"></span>
          </a>
          <news-like class="pull-right"  [ratingObj]="key"></news-like>
        </div>
      </div>
    </ng-container> 
  </div>
</div>
<div class="pagination">
  <pagination-controls (pageChange)="p = $event" 
  previousLabel=""
  nextLabel=""
  ></pagination-controls>
</div>

